Wiremaps
========

Wiremaps is an application to gather wiring (aka L2) information on a
network using protocols like LLDP, EDP, CDP and SONMP. It also gathers
information from the FDB (MAC-port table on switches), the ARP table
(MAC-IP table) and some miscellaneous information like interface
names.

The ARP table is only used to link IP addresses to MAC addresses (and
vice-versa). We don't use the information about the interface where
this information came from.

GNU/Linux workstations need an LLDP daemon using SNMP to export
information gathered. Otherwise, almost no information can be
extracted from those hosts. Unfortunately, there is no free LLDP
daemon exporting information to SNMP yet for GNU/Linux.

The situation is the same for Windows. However, there exists a
commercial one:
 http://www.hanewin.net/lldp-e.htm

Installation
------------

To use this application, you need the following Debian packages:
 - postgresql-8.2 (PostgreSQL 8.2 - http://www.postgresql.org)
 - python-pgsql (PyPgSQL Python bindings - http://pypgsql.sourceforge.net/)
 - python-twisted-core (Twisted - http://twistedmatrix.com)
 - python-twisted-names (Twisted Names - http://twistedmatrix.com)
 - python-nevow (Nevow - http://divmod.org/trac/wiki/DivmodNevow)
 - python-ipy (iPy - http://c0re.23.nu/c0de/IPy/)
 - python-pynetsnmp (PyNetSNMP from ZenOSS project)
 - python-yaml (PyYAML - http://pyyaml.org/)
 - javascript-jquery (jQuery - http://jquery.com/)

For PyNetSNMP, the tarball is here:
 http://dev.zenoss.org/svn/trunk/inst/externallibs/

On other distributions, you should find the proper package or download
and install from the website. For jQuery, there is a symlink in
wiremaps/wiremaps/web/static targeted at Debian. Correct it or place
jQuery on your system in /usr/share/javascript/jquery/jquery.js.

You then need to create a database and install the corresponding
schema. As postgres user ("su - postgres"), you can use the following:

  createuser -P wiremaps
  createdb -O wiremaps wiremaps

Then load the content of doc/database.sql:

  psql -h localhost -U wiremaps -W < doc/database.sql

You need to write a "wiremaps.cfg" file. See doc/wiremaps.cfg.sample
for an example. The default path for this file is
/etc/wiremaps/wiremaps.cfg. You can alter it with "--config" option.

You can install the application with:
 python setup.py install

You can launch the application by hand
 twistd -no wiremaps
or
 twistd -no wiremaps --config=/etc/wiremaps/wiremaps.cfg

You can also use doc/init.d as a base for an init script (work only if
the application is installed).

License
-------

This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 3, or (at your option)
any later version.

See LICENSE file for the complete text. Moreover, to avoid any problem
with SNMP bindings using NetSNMP which may be linked with OpenSSL,
there is an exception for OpenSSL:

 In addition, as a special exception, the Free Software Foundation
 gives permission to link the code of its release of Wget with the
 OpenSSL project's "OpenSSL" library (or with modified versions of it
 that use the same license as the "OpenSSL" library), and distribute
 the linked executables.  You must obey the GNU General Public License
 in all respects for all of the code used other than "OpenSSL".  If you
 modify this file, you may extend this exception to your version of the
 file, but you are not obligated to do so.  If you do not wish to do
 so, delete this exception statement from your version.

The SVG files are licensed under Creative Commons Attribution 3.0. See
LICENSE-CC for the complete license.
